!function($){var t={configure:function(t){return this.each(function(){var e={afterLoad:!1,afterChange:!1},a=$.extend({},e,t);a.$=$(this),a.self=this,a.interval=!1,a.actualYear=a.$.attr("actual-year"),a.actualMonth=a.$.attr("actual-month"),a.controls={wrapper:a.$.children(".navigation")},a.controls.prev=$("a.left",a.controls.wrapper),a.controls.next=$("a.right",a.controls.wrapper),a.controls.label=$(".desc-date",a.controls.wrapper),a.controls.prev.on("click",function(t){t.preventDefault(),a.controls.prev.is("disabled")||a.$.Calendar("getPrevMonth")}),a.controls.next.on("click",function(t){t.preventDefault(),a.controls.next.is("disabled")||a.$.Calendar("getNextMonth")}),a.openText="Abrir calendário",a.closeText="Fechar calendário",a.toggleButton=$('<span class="toggle-button"><span>'+a.openText+"</span></span>").appendTo(a.$),a.toggleButton.bind("click",function(t){t.preventDefault(),a.$.is(".opened")?(a.$.removeClass("opened"),a.toggleButton.html("<span>"+a.openText+"</span>")):(a.$.addClass("opened"),a.toggleButton.html("<span>"+a.closeText+"</span>"))}),a.gridDays=a.$.children(".grid-days"),a.actualizeDays=function(){a.allDays=a.gridDays.children("span"),a.actualDays=a.allDays.filter(".atual")},a.actualizeDays(),a.showLoader=function(){a.$.pikiLoader({position:"absolute"})},a.hideLoader=function(){a.$.pikiLoader("close")},a.resize=function(){var t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;640>=t?a.$.Calendar("setMobile"):a.$.Calendar("setDefault")},a.afterLoad!==!1&&a.afterLoad.call(this,a),a.$.data("Calendar",a),$(window).bind("resize",function(){a.$.Calendar("resizeBind")}).resize()})},setMobile:function(t){t.$.addClass("mobile")},setDefault:function(t){t.$.removeClass("mobile")},close:function(t){},open:function(t){},getNextMonth:function(t){return this.each(function(){t.actualMonth++,13===t.actualMonth&&(t.actualMonth=1,t.actualYear++),t.$.Calendar("requestCalendar",t.actualYear,t.actualMonth)})},getPrevMonth:function(t){return this.each(function(){t.actualMonth--,0===t.actualMonth&&(t.actualMonth=12,t.actualYear--),t.$.Calendar("requestCalendar",t.actualYear,t.actualMonth)})},requestCalendar:function(t,e,a){return this.each(function(){t.showLoader(),$.ajax({type:"POST",url:Piki.ajaxurl,dataType:"JSON",data:{action:"calendar_get_month",year:e,month:a},beforeSend:function(t){t.overrideMimeType("text/plain; charset=utf-8")}}).done(function(e){t.gridDays.html(e.days),t.controls.label.html(e.year+" "+e.month),t.actualizeDays(),t.hideLoader(),t.afterChange!==!1&&t.afterLoad.call(t.self,t)})})},resizeBind:function(t){return this.each(function(){clearTimeout(t.timeout),t.timeout=setTimeout(t.resize,200)})}};$.fn.Calendar=function(e){var a=this.data("Calendar");if(void 0===a)return t.configure.apply(this,arguments);if(t[e]){var n=Array.prototype.slice.call(arguments,1);return n.unshift(a),t[e].apply(this,n)}}}(jQuery);