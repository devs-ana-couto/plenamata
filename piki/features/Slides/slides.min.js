!function(e){PikiSlider={players:[],timeout:!1,timeoutToPlay:!1,init:function(i){var t=i.data("PikiSlider");void 0===t&&((t={$:i,_:i.get(0),videos:i.find(".box-player"),$slides:e(".slide-item",i),$menu:i.children(".menu"),$slider:i.children(".slider-slideshow"),timeResize:!1}).slickOptions={infinite:!1,adaptiveHeight:!1,pauseOnDotsHover:!0,dotsClass:"slider-pager",dots:"true"===t.$slider.attr("slider-pager"),arrows:"true"===t.$slider.attr("slider-arrows"),respondTo:"slider",waitForAnimate:!0},t.pagerWrapper=e(".pager-wrapper",t.$),t.pagerWrapper.length&&(t.pager=t.pagerWrapper.children(".slider-pager"),options.dots=!0,options.dotsClass="slider-pager"),t.$slides.each(function(i){this.$=this.$||e(this);var r={$slide:this.$,actual:!1,disabled:!1,configured:!1,forcedPause:!1,index:i,videoCode:!1,$video:this.$.find("video").show(),$button:e("a.controll-button",this.$),$box:this.$.find(".box-player")};r.$video.length&&(r.videoCode=r.$video.attr("data-video-code"),PikiSlider.configureVideo(t,r),r.$button.on("mouseup",function(e){e.preventDefault(),PikiSlider.bindClickVideo(t,r)})),this.$.data("PikiSlider",r)}),t.$slider.on("init",function(e,i){PikiSlider.initSlick(t,e,i)}),t.slick=t.$slider.slick(t.slickOptions),t.$slider.on("beforeChange",function(e,i,t){PikiSlider.pauseVideos(!0)}),t.$slider.on("afterChange",function(e,i,r,a){PikiSlider.resumeVideo(t)}),e(".slick-arrow.slick-disabled").on("click",function(e){return e.preventDefault(),e.stopPropagation(),!1}),t.$menu.length&&t.$menu.on("click","a",function(i){i.preventDefault(),this.$=this.$||e(this),PikiSlider.goTo(t,this)}),e("body").on("click",function(i){i.target.$=i.target.$||e(i.target);var t=i.target.$.parents(".slider-pager");i.target.$.hasClass("controll-button")||i.target.$.hasClass("icon-arrow-right3")||t.length||PikiSlider.pauseVideos()}))},bindClickVideo:function(e,i){!0===i.configured&&i.player.getPlayerState()===YT.PlayerState.PLAYING?(i.disabled=!1,PikiSlider.pauseVideo(e,i)):(i.disabled=!0,PikiSlider.startVideo(e,i))},resumeVideo:function(e){var i=e.$slider.slick("slickCurrentSlide"),t=e.$slides.eq(i).data("PikiSlider");void 0!==t&&!0===t.forcedPause&&t.player.playVideo()},pauseVideos:function(e){var i=PikiSlider.players.length;if(!(i<1))for(var t=0;t<i;t++){var r=PikiSlider.players[t];void 0!==r.player.getPlayerState&&(r.player.getPlayerState()===YT.PlayerState.PLAYING&&(r.forcedPause=!0===e,r.player.pauseVideo()))}},pauseVideo:function(e,i){i.$box.removeClass("playing"),i.actual=!1,i.player.pauseVideo()},startVideo:function(e,i){i.$box.addClass("playing"),!1!==PikiSlider.timeoutToPlay&&clearTimeout(PikiSlider.timeoutToPlay),!0===i.configured?(i.player.playVideo(),i.actual=!0):PikiSlider.timeoutToPlay=setTimeout(function(){PikiSlider.startVideo(e,i)},100)},getSizes:function(e){return{window:Math.max(document.documentElement.clientWidth,window.innerWidth||0),wrapper:e.$.outerWidth()}},initSlick:function(e,i,t){},resizeCheck:function(e){var i=PikiSlider.getSizes(e);i.window===e.sizes.window&&i.wrapper!==e.sizes.wrapper&&e.$slider.slick("refresh"),e.sizes=i},configureVideo:function(e,i){!1!==i.videoCode&&!0!==i.configured&&PikiSlider.APIWait(function(){i.player=new YT.Player(i.$video.attr("id"),{height:"100%",width:"100%",videoId:i.videoCode,playerVars:{enablejsapi:1,mute:0,autoplay:0,rel:0,controls:0,loop:0,modestbranding:1},events:{onReady:function(e){i.configured=!0,i.$slide.pikiLoader("close")},onStateChange:function(t){PikiSlider.videoStateChange(t,i,e)}}}),PikiSlider.players.push(i)})},videoStateChange:function(e,i,t){var r=e.target.getPlayerState(),a=t.$slider.slick("slickCurrentSlide");r===YT.PlayerState.PLAYING&&(a!==i.index?(e.target.pauseVideo(),i.forcedPause=!0):i.forcedPause=!1),r===YT.PlayerState.PAUSED||r===YT.PlayerState.ENDED||r===YT.PlayerState.UNSTARTED?(i.disabled=!1,i.$box.removeClass("playing")):(i.disabled=!0,i.$box.addClass("playing"))},goTo:function(e,i){var t=i.$.index();e.$slider.slick("slickCurrentSlide")!==t&&(e.menu.children("a").removeClass(),e.$slider.slick("slickGoTo",t),i.$.addClass("opened"))},APIWait:function(e){"undefined"==typeof YT||void 0===YT.Player?(PikiSlider.timeout&&clearTimeout(PikiSlider.timeout),PikiSlider.timeout=setTimeout(function(){PikiSlider.APIWait(e)},50)):(clearTimeout(PikiSlider.timeout),e())}},e(function(){var i=e(".slider-wrapper");i.length&&i.each(function(){this.$=this.$||e(this),PikiSlider.init(this.$)})}),window.piki_slides_slide_data=function(i){var t=e(i),r=t.data("pikiSlides");if(!r){var a=t.children(".texts").first();a.length||(a=!1),r={target:t,texts:a},t.data("pikiSlides",r)}return r}}(jQuery);