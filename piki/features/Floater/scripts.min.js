!function(t){t(function(){$body=t("body"),$html=t("html"),$body.on("click","a.piki-page-floater",function(t){t.preventDefault(),e.bindClick(this)})});var e={bindClick:function(n){n.$=n.$||t(n);var i=n.$.data("pikiFloater");void 0===i&&(i={_:n,$:n.$,url:n.$.attr("href"),content_id:n.$.attr("rel"),title:n.$.data("modal-title"),fitScreen:n.$.data("fit-screen")},n.$.data("pikiFloater",i)),e.requestContent(i)},requestContent:function(e){var n=t.ajax({url:e.url,type:"GET",beforeSend:function(){t.fn.pikiLoader()}});n.done(function(n){t.fn.pikiLoader("close");var i=t(n);if(i.is("#content")||(i=i.find("#content")),!i.length)return console.log("O conteúdo da página "+_this.url+" não foi encontrado"),!1;Message.open({title:void 0!==e.title&&e.title,classname:void 0!==e.class&&e.class,fitScreen:void 0!==e.fitScreen,message:i.html()})}),n.fail(function(e,n){t.fn.pikiLoader("close"),console.log("Falha na requisição: "+n)})}};t.fn.pikiFloater=function(){var e=t(this),n=this;this.configure=function(){e.on("click",function(t){t.preventDefault(),!0===n.opened?n.closeFloater():n.openFloater()}),this.url=e.attr("href"),this.content_id=e.attr("rel"),this.configured=!0,this.requestContent()}}}(jQuery);