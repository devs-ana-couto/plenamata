!function(e){var a={configure:function(t){var n={$:e(this),self:this,call:a};n.$.on("selectDay",function(e,a){n.calendar=a,n.call.getDay(n)})},getDay:function(e){e.call.requestDay(e)},requestDay:function(a){a.calendar.showLoader();var t={action:"schedule_get_day",date:a.calendar.selectedDay.getAttribute("rel"),post_id:a.calendar.self.getAttribute("data-post-id")};e.ajax({type:"POST",url:Piki.ajaxurl,dataType:"JSON",data:t,beforeSend:function(e){e.overrideMimeType("text/plain; charset=utf-8")}}).done(function(e){a.call.showDay(a,e)})},showDay:function(e,a){e.calendar.hideLoader(),e.calendar.openSelectedDay(e.calendar,a.content)},closeDay:function(e){alert("fecha o dia")}};e.fn.Schedule=function(t){return this.each(function(){this.$=this.$||e(this);var n=this.$.data("Schedule");if(void 0===n)return a.configure.apply(this,arguments);if(a[t]){var c=Array.prototype.slice.call(arguments,1);return c.unshift(n),a[t].apply(this,c)}})},e(function(){var a=e("#schedule-post-field");a.length&&a.Schedule()})}(jQuery);