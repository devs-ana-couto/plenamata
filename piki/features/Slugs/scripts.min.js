!function(t){var i={$slugbox:!1,$taxbox:!1,$taxoptions:!1,settings:!1,trava:!1,actual:!1,configure:function(){this.$form=t("form#post"),this.$title=t("input#title",this.$form),this.$slugbox=t("#edit-slug-box",this.$form),this.$taxbox=t("#taxonomy-"+this.settings.taxonomy.name),this.$taxoptions=t('input[type="checkbox"]',this.$taxbox),this.$defaultTerm=this.$taxoptions.filter('[value="'+this.settings.term.term_id+'"]'),this.$taxbox.on("change",'input[type="checkbox"]',function(){!0!==i.trava&&(i.trava=!0,void 0===this.$&&(this.$=t(this)),i.change(this))}),this.$slugbox.children().length||this.checkDefault()},change:function(t){!0===t.$.prop("checked")?this.uncheckOthers(t.$.val()):this.checkDefault(),this.chooseTerm(t.$),this.trava=!1},uncheckOthers:function(t){this.$taxoptions.not('[value="'+t+'"]').prop("checked",!1)},checkSiblings:function(t){this.$taxoptions.filter('[value="'+value+'"]').prop("checked",!0)},checkDefault:function(){this.$defaultTerm.prop("checked",!0),this.chooseTerm(this.$defaultTerm)},chooseTerm:function(i){this.actual=i.val(),t.fn.pikiLoader(),t.ajax({url:Piki.ajaxurl,type:"POST",dataType:"HTML",data:{action:"ptl_choose_term",ID:this.settings.post.ID,term_id:this.actual,title:this.$title.val(),samplepermalinknonce:t("#samplepermalinknonce").val()}}).done(function(i){t.fn.pikiLoader("close"),"-1"!==i&&t("#edit-slug-box").html(i)}).fail(function(i,e){t.fn.pikiLoader("close"),t.fn.pikiAlert("Request failed: "+e)})},init:function(){void 0!==Piki.post_type_link&&(this.settings=Piki.post_type_link,t(function(){i.configure()}))}};i.init()}(jQuery);