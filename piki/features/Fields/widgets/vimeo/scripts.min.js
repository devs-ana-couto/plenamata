var VimField;!function(e){VimField={$videos:!1,init:function(){if($videos=e('div[data-type="vimeo"]'),$videos.length)for(var i=0;i<$videos.length;i++)VimField.configure($videos.eq(i).get(0))},configure:function(i){i.$=i.$||e(i);var t=i.$.data("VimField");if(void 0!==t)return t;if("clip"===(t={_:i,$:i.$,$video:e(".video-element",i.$),$trigger:e("a",i.$),$mask:e("span.mask",i.$),widget:i.$.data("widget"),videoCode:i.$.data("videocode"),controls:i.$.data("controls"),muted:i.$.data("muted"),autoplay:!0,background:i.$.data("background"),responsive:i.$.data("responsive"),loop:i.$.data("loop"),init:i.$.data("init")>0?i.$.data("init"):0,time:i.$.data("time")>0?i.$.data("time"):5,player:!1,timeout:!1,active:!1,initialState:!0,autopause:!1}).widget&&(t.background=!0,t.autoplay=!0,t.muted=!0,t.autopause=!1),t.$video.length){t.videoID=t.$video.attr("id");var a={id:t.videoCode,width:640,loop:!0===t.loop,controls:!0===t.controls,responsive:!0,byline:!1,background:!0===t.background,muted:!0,autoplay:!0===t.autoplay,title:!1};t.player=new Vimeo.Player(t.videoID,a),t.player.on("loaded",function(e){t.player.setCurrentTime(t.init)}),t.player.on("timeupdate",function(e){!1===t.active&&e.seconds>=t.init+t.time&&t.player.setCurrentTime(t.init)}),e(".mask",t.$).on("click",function(){1==t.active?VimField.clickPause(t):VimField.clickPlay(t)}),e("a",t.$).on("click",function(e){e.preventDefault(),VimField.clickPlay(t)}),t.player.on("pause",function(){VimField.setStopped(t,!1)}),t.player.on("ended",function(){VimField.setStopped(t,!0)})}else t.$video=!1;i.$.data("VimField",t),t.$trigger.hover(function(){t.$.addClass("hover")},function(){t.$.removeClass("hover")})},setStopped:function(e,i){e.active=!1,e.$trigger.stop(!0,!0).fadeIn(),e.$.removeClass("playing")},clickPause:function(e){e.player.pause()},clickPlay:function(e){e.active=!0,!0===e.initialState?(e.initialState=!1,e.player.setCurrentTime(0),e.player.setVolume(1)):e.player.play(),e.$trigger.stop(!0,!0).fadeOut(),e.$mask.stop(!0,!0).fadeOut(),e.$.addClass("playing")}},e(function(){VimField.init()})}(jQuery);