tinymce.PluginManager.add("piki_tinymce",function(t,i){t.on("init",function(){t.formatter.register("mark",{inline:"mark",classes:"mark-highlight"}),t.formatter.register("cite",{inline:"cite",classes:"cite-highlight"})}),t.addButton("mark",{title:"Markup",icon:"backcolor",onclick:function(){tinymce.activeEditor.formatter.toggle("mark")},onPostRender:function(){var i=this;t.on("NodeChange",function(t){i.active(-1!==t.element.className.indexOf("mark-highlight"))})}}),t.addButton("cite",{title:"Legend",icon:"backcolor",onclick:function(){tinymce.activeEditor.formatter.toggle("cite")},onPostRender:function(){var i=this;t.on("NodeChange",function(t){i.active(-1!==t.element.className.indexOf("cite-highlight"))})}})});