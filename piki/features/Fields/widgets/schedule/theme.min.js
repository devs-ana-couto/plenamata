var ScheduleTheme;!function(e){ScheduleTheme={configure:function(a){a.$=a.$||e(a);var s=a.$.data("ScheduleTheme");void 0===s&&((s={_:a,$:a.$,$calendar:e(".calendar",a.$)}).theme=s.$calendar.data("theme"),s.$slider=e(".slick-slider",s.$calendar),s.$semanas=s.$slider.children(".semana"),s.$results=e(".list-results li",a.$).hide(),ScheduleTheme.bindSemanas(s),s.$days=s.$semanas.find("a.enabled"),s.$days.each(function(e){this.$=s.$days.eq(e),this.date=this.$.attr("rel"),0===e&&ScheduleTheme.clickDay(s,this)}),s.$semanas.on("click","a.enabled",function(e){e.preventDefault(),ScheduleTheme.clickDay(s,this)}))},bindSemanas:function(a){a.$semanas.length>1&&(a.$slider.slick({ciclic:!1,infinite:!1,arrows:"small"===a.theme}),a.$slider.on("beforeChange",function(e,a){a.$slider.addClass("moving")}),a.$slider.on("afterChange",function(e,s,t){s.$slider.removeClass("moving"),"complete"===a.theme&&a.$floterButtons.removeClass("active").eq(t).addClass("active")})),"complete"===a.theme&&(1===a.$semanas.length?a.$semanas.first().find("header .toright").hide():(a.$floterMenu=e('<div class="floater-semanas"></div>').appendTo(a.$calendar).hide(),a.$semanas.each(function(s){var t=a.$semanas.eq(s),n=e("header .desc-week",t).html(),l=e("header .desc-days",t).html(),i=e('<a title="'+n+'" class="clear"><span class="label">'+n+'</span><span class="dates">'+l+"</span></a>");a.$floterMenu.append(i)}),a.$floterButtons=a.$floterMenu.children("a"),a.$floterButtons.on("click",function(s){s.preventDefault(),a.$floterButtons.removeClass("active");var t=e(this).addClass("active");a.$slider.slick("slickGoTo",t.index()),ScheduleTheme.closeFloater(a)}),a.$toogleMenu=e("header .desc-week",a.$),a.$toogleMenu.on("click",function(e){e.preventDefault(),ScheduleTheme.openFloater(a)}),e("body").on("click",function(s){a.$floterMenu.is(".opened")&&!e(s.target).parents(".calendar").length&&ScheduleTheme.closeFloater(a)})))},openFloater:function(e){e.$floterMenu.addClass("opened").stop(!0,!0).slideDown(500)},closeFloater:function(e){e.$floterMenu.removeClass("opened").stop(!0,!0).slideUp(300)},clickDay:function(e,a){if(!a.$.is(".active")){e.$days.filter(".active").removeClass("active"),a.$.addClass("active");var s=e.$results.filter(".active").removeClass("active"),t=e.$results.filter('[rel="'+a.$.attr("rel")+'"]').addClass("active");s.length?s.stop(!0,!0).slideUp(200,function(){t.slideDown(400)}):t.slideDown(400)}},addZero:function(e){return e<10&&(e="0"+e),e},bestHour:function(a){var s=new Date,t=ScheduleTheme.addZero(s.getHours())+":"+ScheduleTheme.addZero(s.getMinutes());return e.each(a,function(){if(this>t)return t}),a.pop()}},e(".schedule-weeks-wrapper").each(function(){ScheduleTheme.configure(this)})}(jQuery);