var Message;!function(t){Message={data:{$nav:!1},timeout:null,configure:function(a){this.data.$=_body.children("#piki-message"),this.data.$.length&&this.data.$.remove(),this.data.$=t('<div id="piki-message"></div>').appendTo(_body),this.data.$inner=t('<div class="inner"></div>').appendTo(this.data.$),this.data.$content=t('<div class="content"></div>').appendTo(this.data.$inner),this.data.$scroller=t('<div class="scroller"><div class="center-content">'+a.message+"</div></div>").appendTo(this.data.$content),this.data.fitScreen=void 0!==a.fitScreen&&!0===a.fitScreen,!1!==a.title&&void 0!==a.title?(this.data.$title=t('<div class="modal-title">'+a.title+"</div>"),this.data.fitScreen||void 0===a.title_location||"inside"!==a.title_location?this.data.$title.prependTo(this.data.$inner):(this.data.$title.prependTo(this.data.$scroller),this.data.$.addClass("title-inside"))):this.data.$title=!1,this.$close=t('<button class="close-button native" data-action="close-modal">Fechar</button>').appendTo(this.data.$inner),void 0!==a.classname&&this.data.$.addClass(a.classname),this.data.fitScreen&&this.data.$.addClass("fit-screen"),_body.on("click",'[data-action="close-modal"]',function(a){this.$=this.$||t(this),this.$.parents("#piki-message").length&&Message.close()}),void 0!==a.buttons&&(this.data.$nav=t("<nav />"),this.data.fitScreen||void 0===a.buttons_location||"inside"!==a.buttons_location?this.data.$nav.appendTo(this.data.$inner):(this.data.$nav.appendTo(this.data.$scroller),this.data.$.addClass("buttons-inside")),t.each(a.buttons,function(a){var e=this,s="";void 0!==e.attributes&&t.each(e.attributes,function(t){s+=t+'="'+this+'"'}),e.$=t('<button type="button"'+s+">"+e.label+"</button>").appendTo(Message.data.$nav),void 0!==e.classname&&e.$.attr("class",e.classname),void 0!==e.style&&e.$.css(e.style),e.$.off(".Message").on("click.Message",function(t){if(void 0!==e.close&&!0!==e.close||Message.close(),e.callback)try{e.callback()}catch(t){console.log("Não foi possível acessar o método "+e.callback)}})})),this.options=a},open:function(a,e){var s;if(s="object"==typeof a?a:{message:a,title:void 0!==e&&e},Message.configure(s),this.data.$content.on("click",'[data-action="close"]',function(t){t.preventDefault(),Message.close()}),Piki.lockScroll(),t(window).off("resize.Message"),this.data.fitScreen){Message.customScroll(this.data);var i=this.data;t(window).on("resize.Message",function(){Message.timeout&&clearTimeout(Message.timeout),Message.timeout=setTimeout(function(){Message.checkSize(i)},10)}).resize()}this.data.$.show(),this.data.$.addClass("opened")},customScroll:function(t){try{t.$scroller.mCustomScrollbar({axis:"Y",scrollbarPosition:"outside",autoHideScrollbar:!0,autoExpandScrollbar:!0,alwaysShowScrollbar:!1})}catch(t){}},checkSize:function(a){a.$content.css("max-height",""),a.$inner.css("height","100%");var e=t(".mCustomScrollBox",a.$);if(e.length&&e.css("max-height","100%"),a.$title||a.$nav){var s=a.$inner.innerHeight()-parseInt(a.$inner.css("padding-top"))-parseInt(a.$inner.css("padding-bottom"));a.$title&&(s-=a.$title.outerHeight()),a.$nav&&(s-=a.$nav.outerHeight()),a.$content.css("max-height",s+"px")}a.$inner.attr("style","")},close:function(){t(window).off("resize.Message"),void 0!==this.data.$&&(this.data.$.removeClass("opened"),Piki.unlockScroll(),this.data.$.hide(),void 0!==this.options.onClose&&this.options.onClose())}}}(jQuery);