var Modal;!function(o){var e={init:function(n,i){if(!1!==n.initialized)return e.open(n);n.initialized=!0;var a={$:n.$,modal:!1,keepVisible:!1,className:!1,title:!1,open:!0,zIndex:1500,animate:!1,scroller:!1,maxWidth:!1,minHeight:!1,maxHeight:!1,overlay:!0,useLoader:!0,onConfig:!1,onOpen:!1,onClose:!1,onClosed:!1};"object"!=typeof i&&(i={}),(n=o.extend({},a,i)).$.data("pikiModal",n),e.configure(n)},configure:function(n){var i={zIndex:n.zIndex};n.modal=o("<div />",{class:"piki-modal "+(n.className?n.className:""),css:i}).appendTo(_body),n.$scroller=o('<div class="modal-scroller" />').appendTo(n.modal),n.$inner=o('<div class="modal-inner" />').hide().css({zIndex:n.zIndex+1}).appendTo(n.$scroller),!1!==n.title&&(n.$title=o('<div class="modal-title">'+n.title+"</div>").appendTo(n.$inner)),n.$content=o('<div class="modal-content" />').appendTo(n.$inner),"string"==typeof n.content&&(n.content=o(n.content)),n.$.appendTo(n.$content).show();var a='<a class="modal-close-button native"><strong>Fechar</strong><span class="icone"></span></a>';o(a).addClass("top").prependTo(n.$inner),n.keepVisible||o(a).addClass("bottom").appendTo(n.$inner),n.modal.on("click",".modal-close-button",function(o){o.preventDefault(),e.close(n)}),n.onConfig&&n.onConfig(n),!0===n.open&&e.open(n)},open:function(e){o.fn.pikiLoader(e.modal),e.keepVisible?e.modal.addClass("keep-visible"):e.modal.removeClass("keep-visible"),e.modal.show(),e.onOpen&&e.onOpen(e),e.$inner.stop(!0,!0).hide().fadeIn(300,function(){o.fn.pikiLoader("stop")})},close:function(e){if(e.beforeClose&&e.beforeClose(e),!e)return!1;e.modal.removeClass("opened"),o.fn.pikiLoader("close",300),e.modal.fadeOut(300),e.onClosed&&e.onClosed(e)},resizeBind:function(o){return this.each(function(){clearTimeout(o.timeout),o.timeout=setTimeout(function(){},200)})},disableScroll:function(){o("body,html").addClass("lockscroll")},enableScroll:function(){o("body,html").removeClass("lockscroll")},destroy:function(o){_window.unbind(".pikiModal"),o.imagesBox.remove(),o.$.removeData("pikiModal")}};o.fn.Modal=function(n,i){return this.each(function(){this.$=this.$||o(this);var a,t=this.$.data("pikiModal");return void 0===t&&(t={$:this.$,initialized:!1}),void 0===n||"object"==typeof n?(a="init",argToPass=n):(a=n,argToPass=i),e[a](t,argToPass),this.$})},Modal=function(o,e){_body.Modal(o,e)},window.modal_attach_callback=function(o){void 0!==Pager&&Pager.addCallback(o)}}(jQuery);