window.backhash=window.location.hash,window.backurl=window.location.href,""!==window.backhash&&"#"!==window.backhash&&(window.location.hash="",window.scrollTo(0,0));var Navigation,_body,_window;!function(t){Navigation={$navs:null,$menu:null,$header:!1,timeout:!1,$triggers:null,targets:{},totalTargets:0,lastScollTop:0,offseLimit:!0,timeResize:!1,components:[],init:function(){void 0===_body&&(_body=t("body")),void 0===_window&&(_window=t(window)),t(window).resize(function(){Navigation.timeResize&&clearTimeout(Navigation.timeResize),Navigation.timeResize=setTimeout(function(){Navigation.checkItems()},100)}),Navigation.checkItems(),""!==window.backhash&&"#"!==window.backhash&&setTimeout(function(){Navigation.scrollTo(window.backhash)},1)},checkItems:function(){this.$menu=t("#menu .menu"),this.$navs=t('[data-role="navigation"]'),Navigation.components=[],this.$navs.length&&(this.$navs.each(function(){Navigation.configureItem(this)}),Navigation.components.length&&Navigation.bind())},clickMenuItem:function(t,i){t.triggers.removeClass("active"),t.triggers.filter('[href="'+this.href+'"]').addClass("active")},configureItem:function(i){i.$=i.$||t(i);var e=i.$.data("Navigation");void 0===e&&(e={_:i,$:i.$,triggers:t("a",i.$),positions:[],targets:{},totalTargets:0,indicator:t(".indicator",i.$),locked:!1},i.$.data("Navigation",e),e.$.hover(function(){e.locked=!0,e.$.removeClass("closed")},function(){e.locked=!1}));var o=Math.ceil(1.2*e.$.outerWidth());e.$.css("width",o+"px"),e.triggers.length&&(e.triggers.off("click").on("click",function(){this.$=this.$||t(this),Navigation.clickMenuItem(e,this)}),e.targets=[],e.positions=[],e.triggers.each(function(){if(this.$=this.$||t(this),this.href.indexOf("#")>=0){0===this.href.indexOf("#")?_id=url:_id="#"+this.href.split("#").pop();var i="#"===_id?_body:t(_id);if(i.length){var o=parseInt(i.offset().top);o<0&&(o=0),e.positions.includes(o)||e.positions.push(o);var n="tgts-"+o;void 0===e.targets[n]&&(e.targets[n]=[]),e.targets[n].push(i),e.totalTargets++}}}),e.totalTargets>0&&(e.positions=e.positions.sort(function(t,i){return t-i}),Navigation.components.push(e)))},bind:function(){Navigation.checkScroll(!0),_window.bind("scroll",function(){Navigation.checkScroll()}),_body.off("click.Navigation").on("click.Navigation","a",function(i){if(this.$=this.$||t(this),void 0===this.href||this.href.indexOf("#")<0)return!0;if("#"!==this.href){if(elemnetID=this.href.split("#").pop(),0===elemnetID.indexOf("http"))return!0;var e=t("#"+elemnetID);e.length&&(event.preventDefault(),e.attr("id",""),window.location.hash=elemnetID,e.attr("id",elemnetID),Navigation.scrollTo(e))}else event.preventDefault()})},getPageTop:function(){var t=(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0);return this.$header.length&&(t+=this.$header.outerHeight()),t},getPageHeight:function(){var t=document;return Math.max(t.body.scrollHeight,t.documentElement.scrollHeight,t.body.offsetHeight,t.documentElement.offsetHeight,t.body.clientHeight,t.documentElement.clientHeight)},checkIfBottom:function(){this.getPageHeight();var t=(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0);return t>=t+Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)-100},checkScroll:function(i){var e=Navigation.getPageTop(),o=e>=Navigation.lastScrolTop?"down":"up";this.components.forEach(function(n){n.locked||void 0!==i||n.$.addClass("closed");var a=n.positions[0],s=!1;if(e<=a)s=a;else if(Navigation.checkIfBottom())s=n.positions[n.positions.length-1];else{var c=e;if(Navigation.offseLimit){var r=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)/4;c+="down"===o?r:2*r}n.positions.forEach(function(t){c>=parseInt(t)-a&&(s=t)})}n.triggers.removeClass("active");Object.keys(n.targets).forEach(function(t){n.targets[t].forEach(function(t){t.removeClass("active")})});var h="tgts-"+s;void 0!==n.targets[h]&&n.targets[h].forEach(function(i){i.addClass("active");var e=n.triggers.filter('[href="#'+i.attr("id")+'"]');if(e.length&&(e.addClass("active"),n.indicator.length)){var o=e.first(),a=o.prevAll(),s=parseInt(o.css("margin-top"));a.each(function(){this.$=this.$||t(this),s+=this.$.outerHeight(!0)}),n.indicator.css("top",s)}})}),Navigation.lastScrolTop=e},scrollTo:function(i){var e="object"==typeof i?i:t(i);if(e.length){var o;o="inicio"===e.attr("id")?0:e.offset().top;var n=_window.scrollTop()-o;n<0&&(n*=-1);var a=600-.1*n;a<600&&(a=600);var s=e.data("offset");if(s)try{var c=JSON.parse(s.split("'").join('"'));r=!1,_vWidth=Navigation.vWidth(),t.each(c.breaks,function(t){if(_vWidth<=t)return r=parseInt(this),!1}),s=r||parseInt(c.initial)}catch(t){var r=parseInt(s);s=r>0?r:0}else s=0;this.$header&&(s+=this.$header.outerHeight()),t("html, body").animate({scrollTop:o-s},250,"easeOutQuad")}},vWidth:function(){return Math.max(document.documentElement.clientWidth,window.innerWidth||0)}},t(function(){t("body").imagesLoaded(function(){Navigation.init()})})}(jQuery);