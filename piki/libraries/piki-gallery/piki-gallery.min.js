var PikiGallery;!function(i){(PikiGallery={slicksActives:!1,slicksStarteds:!1,main:function(){i(function(){PikiGallery.init()})},init:function(){var e=i(".piki-gallery").not(".configured");e.length&&e.each(function(){PikiGallery.configure(this)})},configure:function(e){e.$=e.$||i(e),e.$.addClass("configured");var s={_:e,$:e.$,$main:i(".main-slider",e.$),$nav:i(".menu-slider",e.$),$footer:i("footer",e.$),$wrapper:e.$.parents("section").first(),startAPI:e.$.data("start-api"),theme:e.$.data("theme"),figcaption:e.$.data("figcaption"),arrows:e.$.data("arrows")};"complete"===s.theme&&PikiGallery.createMosaic(s),s.$main.on("beforeChange",function(e,a){i(".slide-indice",s.$main).css("opacity",0)}),s.$main.on("afterChange",function(e,a){i(".slide-indice",s.$main).css("opacity",1),PikiGallery.resizeParent(s)}),s.$main.slick({adaptiveHeight:!0,slidesToShow:1,slidesToScroll:1,draggable:!1,touchMove:!1,asNavFor:s.$nav,arrows:s.arrows,responsive:[{breakpoint:640,settings:{arrows:!1}}]}),s.$nav.slick({adaptiveHeight:!1,asNavFor:s.$main,focusOnSelect:!0,slidesToShow:6,slidesToScroll:1,arrows:!1,initialSlide:0,variableWidth:!0,responsive:[{breakpoint:768,settings:{slidesToShow:4}},{breakpoint:640,settings:{slidesToShow:2}}]}),!0===s.startAPI&&PikiGallery.start(s)},start:function(e){void 0!==e.$main&&e.$main.length||(e.$main=i(".main-slider",e.$),e.$nav=i(".menu-slider",e.$),e.$footer=i("footer",e.$),e.$wrapper=e.$.parents("section"),PikiGallery.createMosaic(e))},createMosaic:function(e){e.$seall=i(".see-all button",e.$),e.$mosaic=i('<div class="mosaic"></div>'),e.$mosaicGrid=e.$nav.clone().attr("class","mosaic-grid clearfix").appendTo(e.$mosaic),e.$mosaicFigures=e.$mosaicGrid.children("figure").removeClass("slide-item"),e.$mosaicItems=e.$mosaicGrid.find("img"),e.$closeMosaic=i('<button class="mosaic-close">Fechar</button>').appendTo(e.$mosaic),e.$mosaic.appendTo(e.$),e.$seall.on("click",function(i){i.preventDefault(),PikiGallery.openMosaic(e)}),e.$closeMosaic.on("click",function(i){i.preventDefault(),PikiGallery.closeMosaic(e)}),e.$mosaicItems.on("click",function(s){if(s.preventDefault(),void 0===this.$&&(this.$=i(this)),!this.$.is(".current")){e.$mosaicItems.removeClass("current"),this.$.addClass("current");var a=e.$mosaicItems.index(this.$);e.$mosaicItems.removeClass("current"),e.$.addClass("current"),PikiGallery.closeMosaic(e,a)}})},openMosaic:function(e){var s=e.$main.slick("getCurrent");e.$mosaicItems.removeClass("current"),e.$mosaicItems.eq(s).addClass("current"),e.$footer.slideUp(600),e.$main.slideUp(600,function(){e.$mosaicGrid.is(".slick-initialized")&&(e.$mosaic.show(),e.$mosaicGrid.slick("refresh"),e.$mosaic.hide()),e.$mosaic.slideDown(800,function(){PikiGallery.resizeParent(e)})}),i("html, body").animate({scrollTop:e.$wrapper.offset().top},1e3)},closeMosaic:function(i,e){i.$mosaic.slideUp(function(){i.$main.show(),i.$footer.show(),void 0!==e?i.$main.slick("slickGoTo",e,!0):i.$nav.slick("getSlick").refresh(),i.$main.hide(),i.$footer.hide(),i.$footer.slideDown(),i.$main.slideDown(800,function(){PikiGallery.resizeParent(i)})})},resizeParent:function(i){var e=i.$.parents(".slick-slider").first();e.length&&e.is(".slick-initialized")&&e.slick("getSlick").animateHeight()},mobSlicks:function(e){var s=Math.max(document.documentElement.clientWidth,window.innerWidth||0);!1===PikiGallery.slicksStarteds&&(PikiGallery.slicksStarteds=!0,PikiGallery.$mobSlicks=i(".mosaic-grid",PikiGallery.$gallerys),PikiGallery.$mobSlicks.length&&PikiGallery.$mobSlicks.each(function(){this.$=this.$||i(this),this.$items=this.$.children("figure")})),PikiGallery.$mobSlicks.length&&(!1===PikiGallery.slicksActives&&s<=640?(PikiGallery.slicksActives=!0,PikiGallery.$mobSlicks.each(function(){for(var e=Math.ceil(this.$items.length/8),s=0;s<e;s++){var a=8*s,t=a+8,o=i('<div class="row clearfix"></div>').appendTo(this.$);this.$items.slice(a,t).appendTo(o)}this.$.slick({arrows:!1,dots:!0,adaptiveHeight:!0,touchMove:!1,draggable:!1,infinite:!1,customPaging:function(i,e){return"<a>"+(e+1)+"</a>"}})})):!0===PikiGallery.slicksActives&&s>640&&(PikiGallery.$mobSlicks.each(function(){this.$.slick("unslick");var i=this,e=this.$.children(".row");e.each(function(s){e.eq(s).children("figure").appendTo(i.$)}),e.remove()}),PikiGallery.slicksActives=!1))},bindResize:function(){var e=null;i(window).bind("resize.PikiGallery",function(){clearTimeout(e),e=setTimeout(PikiGallery.mobSlicks,250)}),PikiGallery.mobSlicks()}}).main()}(jQuery);