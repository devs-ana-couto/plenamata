!function(e){var t={configure:function(n){if("false"===n.$.attr("data-open-first")&&(n.openFirst=!1),n.initialized=!1,n.actualStyle=!1,n.timeout=!1,n.enabled=!1,n.$headers=[],n.$contents=[],n.navigation=!1,n.$items=n.$.find(n.items),n.$items)if(n.$headers=n.$items.find(n.headers),n.$headers.length)if(n.$contents=n.$items.find(n.contents),n.$contents.length){n.triggers=n.$.data("triggers"),n.$items.each(function(t){if(this.$=this.$||e(this),this.header=n.$headers.eq(t),this.header.get(0).target=n.$items.eq(t),this.content=n.$contents.eq(t),this.content.get(0).target=n.$items.eq(t),n.triggers){var a=this;this.$.on("click",".trigger",function(e){a.header.trigger("click")})}}),n.$headers.children("a").bind("click.pikiSanfona",function(t){t.preventDefault(),this.$=this.$||e(this);var n=this.$.attr("href");if(void 0!==n&&""!==n){n.indexOf(!1)&&(n="#"+n.split("#").pop());var a=e(n).attr("id","");window.location.hash=n,a.attr("id",n);Cookie.get("originReferrer")}}),!1!==n.breakpoint?e(window).bind("resize",function(){t.resizeBind(n)}).resize():t.enable(n,n.style);window.location.hash;var a=n.$items.filter(window.location.hash);a.length&&t.toggleItem(n,a,!0),n.initialized=!0}else console.info("Sanfona: Não foi encontrado nenhum conteudo: "+n.contents);else console.info("Sanfona: Não foi encontrado nenhum header: "+n.headers);else console.info("Sanfona: Não foi encontrado nenhum ítem:"+n.items)},resize:function(e){var n=piki_get_viewport(),a=e.style;n.width<=e.breakpoint.width&&(a=e.breakpoint.style),a!==e.actualStyle&&(!0!==e.enabled?t.enable(e,a):t.applyStyle(e,a))},enable:function(e,n){e.$.addClass("piki-sanfona "+(void 0===n?e.style:n)),e.$items.addClass("sanfona-item"),e.$headers.addClass("sanfona-header"),e.$.on("click.pikiSanfona",".sanfona-header",function(n){n.preventDefault(),t.doClick(e,this)}),e.$contents.addClass("sanfona-content"),e.enabled=!0,t.applyStyle(e,n)},disable:function(e){e.$.removeClass("piki-sanfona "+e.style),e.$items.removeClass("sanfona-item"),$data.$.off(".pikiSanfona",".sanfona-header"),e.$headers.removeClass("sanfona-header"),e.$contents.show(),e.$contents.removeClass("sanfona-content"),e.enabled=!1},applyStyle:function(n,a){n.$.removeClass("sanfona abas").addClass(a);var i=n.$items.filter(".opened"),s=!1;if("abas"===a&&"abas"!==n.actualStyle){if(n.$contents.hide(),n.navigation=e('<ul class="sanfona-controls clear"></ul>').prependTo(n.$),n.$headers.each(function(t){var a=e('<li class="x-'+(t+1)+'"></li>').appendTo(n.navigation);e(this).appendTo(a)}),n.triggers){var o=n.$items.children(".trigger");o.length&&o.remove()}n.$.addClass("abas"),n.actualStyle="abas",s=!0}else"sanfona"===a&&"sanfona"!==n.actualStyle&&(n.$contents.hide(),n.$headers.each(function(){e(this).prependTo(this.target)}),n.navigation.length&&n.navigation.remove(),n.triggers&&n.$items.each(function(){n.trigger=e('<button class="trigger">'+n.triggers+"</button>").appendTo(this.$)}),n.$.addClass("sanfona"),n.actualStyle="sanfona",s=!0);s&&(t.clearClasses(n),i.length?t.toggleItem(n,i,!0):!0===n.openFirst&&t.toggleItem(n,n.$items.first(),!0)),void 0!==n.breakpoint&&void 0!==n.breakpoint.callback&&n.breakpoint.callback.call(n._)},resizeBind:function(e){clearTimeout(e.timeout),e.timeout=setTimeout(function(){e.$.pikiSanfona("resize")},500)},doClick:function(e,n){var a=n.target;t.toggleItem(e,a,!1,!0)},toggleItem:function(n,a,i,s){void 0===i&&(i=!1),void 0===s&&(s=!1);var o=a.get(0),r=a.is(".opened");if("abas"!=n.actualStyle||!0!==r){if(t.clearClasses(n),o.header.addClass("opened"),o.content.addClass("opened"),o.header.parent("li").addClass("opened"),r)a.removeClass("opened"),a.get(0).header.removeClass("opened"),a.get(0).content.removeClass("opened");else{if(a.addClass("opened"),!0===i){if(o.content.show(),!0===s){var l="abas"===n.actualStyle?60:0;t.scrollTo(a,l)}}else{o.content.stop(!0,!0).show(),t.refreshSlicks(n,a),o.content.hide();o.content.stop(!0,!0).animate({opacity:"show",height:"show",paddingBottom:"show",paddingTop:"show"},{duration:600,start:function(t){t.elem.$=t.elem.$||e(t.elem),t.elem.$.addClass("sliding-down")},done:function(t){t.elem.$=t.elem.$||e(t.elem),t.elem.$.removeClass("sliding-down")}},function(){if(!0===s){var e="abas"===n.actualStyle?60:0;t.scrollTo(a,e)}})}n.triggers&&a.children(".trigger").html("Fechar")}n.$items.not(".opened").each(function(){this.content.stop(!0,!0).animate({opacity:"hide",height:"hide",paddingBottom:"hide",paddingTop:"hide"},{duration:600,start:function(t){t.elem.$=t.elem.$||e(t.elem),t.elem.$.addClass("sliding-up")},done:function(t){t.elem.$=t.elem.$||e(t.elem),t.elem.$.removeClass("sliding-up")}})})}},scrollTo:function(t,n){n=parseInt(n),n+=10;var a=e("#masthead");a.length&&a.css("position");var i=e("#topbar");i.length&&"fixed"===i.css("position")&&(n+=i.outerHeight()),(void 0===n||isNaN(n))&&(n=0),e("html, body").animate({scrollTop:t.offset().top-n},500)},refreshSlicks:function(t,n){var a=e(".slick-slider",n);if(a.length)for(var i=0;i<a.length;i++){var s=a.eq(i);s.is(".slick-initialized")&&s.slick("refresh")}},clearClasses:function(e){e.$items.removeClass("opened"),e.$contents.removeClass("opened"),e.$headers.removeClass("opened"),e.$headers.parent("li").removeClass("opened"),e.triggers&&e.$items.children(".trigger").html(e.triggers)}};e.fn.pikiSanfona=function(n){return this.each(function(){void 0===this.$&&(this.$=e(this));var a=this.$.data("pikiSanfona");if(void 0===n||"object"==typeof n){if(void 0===a){var i={items:".item",headers:".trigger",contents:".content",breakpoint:!1,effect:"slide",style:"sanfona",openFirst:!0};(a="object"==typeof n?e.extend({},i,n):i).$=this.$,a._=this,a.$.data("pikiSanfona",a),t.configure.apply(this,[a])}}else if(t[n]){var s=Array.prototype.slice.call(arguments,1);return Array.prototype.unshift.call(s,a),t[n].apply(this,s)}})}}(jQuery);